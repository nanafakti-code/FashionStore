---
import Layout from "../layouts/Layout.astro";
import VariantSelector from "../components/VariantSelector";
---

<Layout title="Test - Selector de Variantes">
    <div class="min-h-screen bg-gray-50 py-12">
        <div class="container mx-auto px-4">
            <!-- Header -->
            <div class="mb-8">
                <h1 class="text-4xl font-bold text-gray-900 mb-2">
                    Selector de Variantes de Producto
                </h1>
                <p class="text-gray-600">
                    Prueba del sistema de variantes profesional con iPad Pro
                    12.9 M2
                </p>
            </div>

            <!-- Contenido principal -->
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Imagen del producto (simulada) -->
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div
                        class="aspect-square bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center"
                    >
                        <img
                            src="https://images.unsplash.com/photo-1561070791-2526d30994b5?w=800&h=800&fit=crop"
                            alt="iPad Pro 12.9 M2"
                            class="w-full h-full object-cover rounded-lg"
                        />
                    </div>
                </div>

                <!-- Selector de variantes -->
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">
                            iPad Pro 12.9 M2
                        </h2>
                        <p class="text-gray-600">
                            Tablet profesional de Apple con chip M2 y pantalla
                            Liquid Retina XDR
                        </p>
                    </div>

                    <!-- Componente de selector de variantes -->
                    <VariantSelector
                        client:load
                        productSlug="ipad-pro-129-m2"
                        onVariantChange={(variant) => {
                            console.log("Variante seleccionada:", variant);
                        }}
                    />
                </div>
            </div>

            <!-- Informaci√≥n adicional -->
            <div class="mt-12 bg-blue-50 border border-blue-200 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-blue-900 mb-3">
                    ‚ÑπÔ∏è Informaci√≥n de Prueba
                </h3>
                <div class="text-sm text-blue-800 space-y-2">
                    <p>
                        ‚Ä¢ Este es un componente de prueba del sistema de
                        variantes
                    </p>
                    <p>
                        ‚Ä¢ Los datos se cargan desde la API: <code
                            class="bg-blue-100 px-2 py-1 rounded"
                            >/api/products/ipad-pro-129-m2/variants</code>
                    </p>
                    <p>
                        ‚Ä¢ El precio se actualiza din√°micamente al cambiar de
                        variante
                    </p>
                    <p>‚Ä¢ Las variantes sin stock aparecen deshabilitadas</p>
                    <p>
                        ‚Ä¢ Abre la consola del navegador para ver los eventos de
                        cambio de variante
                    </p>
                </div>
            </div>

            <!-- Enlaces √∫tiles -->
            <div class="mt-8 grid md:grid-cols-3 gap-4">
                <a
                    href="/api/products/ipad-pro-129-m2/variants"
                    target="_blank"
                    class="bg-white border-2 border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors"
                >
                    <div class="text-sm font-semibold text-gray-900 mb-1">
                        üì° API Variants
                    </div>
                    <div class="text-xs text-gray-600">
                        Ver datos de variantes (JSON)
                    </div>
                </a>

                <a
                    href="/api/products/ipad-pro-129-m2/price-range"
                    target="_blank"
                    class="bg-white border-2 border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors"
                >
                    <div class="text-sm font-semibold text-gray-900 mb-1">
                        üí∞ API Price Range
                    </div>
                    <div class="text-xs text-gray-600">
                        Ver rango de precios (JSON)
                    </div>
                </a>

                <a
                    href="/"
                    class="bg-white border-2 border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors"
                >
                    <div class="text-sm font-semibold text-gray-900 mb-1">
                        üè† Volver al inicio
                    </div>
                    <div class="text-xs text-gray-600">P√°gina principal</div>
                </a>
            </div>
        </div>
    </div>
</Layout>
